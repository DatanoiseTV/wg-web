/*! SPDX-License-Identifier: GPL-2.0
 *
 * Copyright (C) 2015-2018 Jason A. Donenfeld <Jason@zx2c4.com>. All Rights Reserved.
 */(function(){function e(e){var t=new Float64Array(16);if(e)for(var n=0;n<e.length;++n)t[n]=e[n];return t}function t(t,i){var s,o=e(),u=e();for(var a=0;a<16;++a)u[a]=i[a];n(u),n(u),n(u);for(var f=0;f<2;++f){o[0]=u[0]-65517;for(var a=1;a<15;++a)o[a]=u[a]-65535-(o[a-1]>>16&1),o[a-1]&=65535;o[15]=u[15]-32767-(o[14]>>16&1),s=o[15]>>16&1,o[14]&=65535,r(u,o,1-s)}for(var a=0;a<16;++a)t[2*a]=u[a]&255,t[2*a+1]=u[a]>>8}function n(e){var t;for(var n=0;n<16;++n)e[n]+=65536,t=Math.floor(e[n]/65536),e[(n+1)*(n<15?1:0)]+=t-1+37*(t-1)*(n===15?1:0),e[n]-=t*65536}function r(e,t,n){var r,i=~(n-1);for(var s=0;s<16;++s)r=i&(e[s]^t[s]),e[s]^=r,t[s]^=r}function i(e,t,n){for(var r=0;r<16;++r)e[r]=t[r]+n[r]|0}function s(e,t,n){for(var r=0;r<16;++r)e[r]=t[r]-n[r]|0}function o(e,t,r){var i=new Float64Array(31);for(var s=0;s<16;++s)for(var o=0;o<16;++o)i[s+o]+=t[s]*r[o];for(var s=0;s<15;++s)i[s]+=38*i[s+16];for(var s=0;s<16;++s)e[s]=i[s];n(e),n(e)}function u(t,n){var r=e();for(var i=0;i<16;++i)r[i]=n[i];for(var i=253;i>=0;--i)o(r,r,r),i!==2&&i!==4&&o(r,r,n);for(var i=0;i<16;++i)t[i]=r[i]}function a(e){e[31]=e[31]&127|64,e[0]&=248}function f(n){var f,l=new Uint8Array(32),c=e([1]),h=e([9]),p=e(),d=e([1]),v=e(),m=e(),g=e([56129,1]),y=e([9]);for(var b=0;b<32;++b)l[b]=n[b];a(l);for(var b=254;b>=0;--b)f=l[b>>>3]>>>(b&7)&1,r(c,h,f),r(p,d,f),i(v,c,p),s(c,c,p),i(p,h,d),s(h,h,d),o(d,v,v),o(m,c,c),o(c,p,c),o(p,h,v),i(v,c,p),s(c,c,p),o(h,c,c),s(p,d,m),o(c,p,g),i(c,c,d),o(p,p,c),o(c,d,m),o(d,h,y),o(h,v,v),r(c,h,f),r(p,d,f);return u(p,p),o(c,c,p),t(l,c),l}function l(){var e=new Uint8Array(32);return window.crypto.getRandomValues(e),e}function c(){var e=l();return a(e),e}function h(e,t){var n=Uint8Array.from([t[0]>>2&63,(t[0]<<4|t[1]>>4)&63,(t[1]<<2|t[2]>>6)&63,t[2]&63]);for(var r=0;r<4;++r)e[r]=n[r]+65+(25-n[r]>>8&6)-(51-n[r]>>8&75)-(61-n[r]>>8&15)+(62-n[r]>>8&3)}function p(e){var t,n=new Uint8Array(44);for(t=0;t<32/3;++t)h(n.subarray(t*4),e.subarray(t*3));return h(n.subarray(t*4),Uint8Array.from([e[t*3+0],e[t*3+1],0])),n[43]=61,String.fromCharCode.apply(null,n)}window.WireGuard={generateKeypair:function(){var e=c(),t=f(e);return{publicKey:p(t),privateKey:p(e)}}}})();